[httpd]
port = <%= scope.lookupvar("couchdb::params::port") %>
bind_address = <%= scope.lookupvar("couchdb::params::bind") %>
# override socket options to help performance
socket_options = [{recbuf, 262144}, {sndbuf, 262144}, {nodelay, true}]

<% if scope.lookupvar("couchdb::params::username") -%>
[couch_httpd_auth]
require_valid_user = true

[admins]
<%= scope.lookupvar("couchdb::params::username") %> = <%= scope.lookupvar("couchdb::params::password") %>
<% end %>

[native_query_servers]
erlang = {couch_native_process, start_link, []}
